"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[276],{425:(e,s,a)=>{a.d(s,{A:()=>n});const t=a.p+"static/media/error.42292aa12b6bc303ce99.gif";var c=a(579);const n=()=>(0,c.jsx)("img",{style:{display:"block",width:"250px",height:"250px",objectFit:"contain",margin:"0 auto"},src:t,alt:"Error"})},758:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var t=a(43);const c=a.p+"static/media/mjolnir.61f31e1809f12183a524.png";var n=a(493),r=a(588),l=a(425),i=a(579);const o=e=>{let{char:s}=e;const{name:a,thumbnail:t,homepage:c,wiki:n,description:r}=s;return(0,i.jsxs)("div",{className:"randomchar__block",children:[(0,i.jsx)("img",{style:{objectFit:"fill"},src:t,alt:"Random character",className:"randomchar__img"}),(0,i.jsxs)("div",{className:"randomchar__info",children:[(0,i.jsx)("p",{className:"randomchar__name",children:a}),(0,i.jsx)("p",{className:"randomchar__descr",children:r}),(0,i.jsxs)("div",{className:"randomchar__btns",children:[(0,i.jsx)("a",{href:c,className:"button button__main",children:(0,i.jsx)("div",{className:"inner",children:"homepage"})}),(0,i.jsx)("a",{href:n,className:"button button__secondary",children:(0,i.jsx)("div",{className:"inner",children:"wiki"})})]})]})]})},d=()=>{const[e,s]=(0,t.useState)({}),{loading:a,error:d,getCharacter:h,clearError:m}=(0,n.A)(),u=e=>{s(e),0===e.description.length?e.description="\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430":e.description.length>210&&(e.description=e.description.slice(0,210)+"..."),console.log("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430")};(0,t.useEffect)((()=>{x()}),[]);const x=()=>{m();const e=1011136,s=Math.floor(199*Math.random())+e;h(s).then(u)},j=d?(0,i.jsx)(l.A,{}):null,p=a?(0,i.jsx)(r.A,{}):null,_=a||d?null:(0,i.jsx)(o,{char:e});return(0,i.jsxs)("div",{className:"randomchar",children:[j,p,_,(0,i.jsxs)("div",{className:"randomchar__static",children:[(0,i.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",(0,i.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,i.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),(0,i.jsx)("button",{onClick:e=>{(e=>{x(),e.preventDefault()})(e)},className:"button button__main",children:(0,i.jsx)("div",{className:"inner",children:"try it"})}),(0,i.jsx)("img",{src:c,alt:"mjolnir",className:"randomchar__decoration"})]})]})},h=(e,s,a,t)=>{const c=e.map((c=>e?(0,i.jsxs)("li",{style:a===c.id?{boxShadow:"0px 5px 20px 0px rgb(159, 0, 19)",transition:"0.5s all",paddingTop:"10px"}:null,onClick:()=>{s(c.id),t(c.id),console.log(a)},className:"char__item",children:[(0,i.jsx)("img",{src:c.thumbnail,alt:c.name,style:{objectFit:"fill"}}),(0,i.jsx)("div",{style:{fontSize:"18px"},className:"char__name",children:c.name})]},c.id):null));return(0,i.jsx)("ul",{className:"char__grid",children:c})},m=e=>{let{onCharSelected:s}=e;const{loading:a,error:c,getItemCharacter:o}=(0,n.A)(),[d,m]=(0,t.useState)([]),[u,x]=(0,t.useState)(!1),[j,p]=(0,t.useState)(210),[_,g]=(0,t.useState)(null),[b,N]=(0,t.useState)(!1),[v,f]=(0,t.useState)(!1);(0,t.useEffect)((()=>{k(j,!0),x(!0)}),[]),(0,t.useEffect)((()=>(console.log("\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0440\u0435\u043d\u0434\u0435\u0440\u0438\u0442\u0441\u044f"),()=>{})),[j]);const k=(e,s)=>{x(!s),o(e).then(y)},y=e=>{let s=!1;e.length<9&&(s=!0),m((s=>[...s,...e])),x((e=>!1)),p((e=>e+9)),N((e=>!0)),f((e=>s))},C=h(d,s,_,(e=>{g(e),console.log(e)}));console.log(C);const w=a&&!u?(0,i.jsx)(r.A,{}):null,S=c?(0,i.jsx)(l.A,{}):null;return(0,i.jsxs)("div",{className:"char__list",children:[w,S,C,(0,i.jsx)("button",{disabled:u,style:{display:v?"none":"block"},onClick:()=>k(j),className:"button button__main button__long",children:(0,i.jsx)("div",{className:"inner",children:"load more"})})]})};var u=a(475),x=a(196);const j=e=>{let{char:s}=e;const{thumbnail:a,name:t,homepage:c,wiki:n,description:r,comics:o}=s;console.log(s),console.log(o);const d=o.length>0?o.slice(0,10).map(((e,s)=>{let a=e.resourceURI.replace(/\D/g,"").slice(1);return console.log(a),(0,i.jsx)(u.N_,{to:"/comics/".concat(a),className:"char__comics-item",children:e.name},s)})):(0,i.jsx)(l.A,{});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"char__basics",children:[(0,i.jsx)("img",{style:{objectFit:"fill"},src:a,alt:t}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"char__info-name",children:t}),(0,i.jsxs)("div",{className:"char__btns",children:[(0,i.jsx)("a",{href:c,className:"button button__main",children:(0,i.jsx)("div",{className:"inner",children:"homepage"})}),(0,i.jsx)("a",{href:n,className:"button button__secondary",children:(0,i.jsx)("div",{className:"inner",children:"wiki"})})]})]})]}),(0,i.jsx)("div",{className:"char__descr",children:r}),(0,i.jsx)("div",{className:"char__comics",children:"Comics:"}),(0,i.jsx)("ul",{className:"char__comics-list",children:d})]})},p=e=>{let{charId:s}=e;const{loading:a,error:c,getCharacter:o,clearError:d}=(0,n.A)(),[h,m]=(0,t.useState)(null);(0,t.useEffect)((()=>{s&&u()}),[s]);const u=()=>{s&&(d(),o(s).then(p))},p=e=>{m(e)},_=h||a||c?null:(0,i.jsx)(x.A,{}),g=c?(0,i.jsx)(l.A,{}):null,b=a?(0,i.jsx)(r.A,{}):null,N=c||a||!h?null:(0,i.jsx)(j,{char:h});return(0,i.jsxs)("div",{className:"char__info",children:[b,_,g,N]})};class _ extends t.Component{constructor(){super(...arguments),this.state={error:!1}}componentDidCatch(e,s){console.log(e,s),this.setState({error:!0})}render(){return!0===this.state.error?(0,i.jsx)(l.A,{}):this.props.children}}const g=_,b=a.p+"static/media/vision.067d4ae1936d64a577ce.png",N=()=>{const[e,s]=(0,t.useState)(null);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g,{children:(0,i.jsx)(d,{})}),(0,i.jsxs)("div",{className:"char__content",children:[(0,i.jsx)(g,{children:(0,i.jsx)(m,{onCharSelected:e=>{s(e)}})}),(0,i.jsx)(g,{children:(0,i.jsx)(p,{charId:e})})]}),(0,i.jsx)("img",{className:"bg-decoration",src:b,alt:"vision"})]})}},196:(e,s,a)=>{a.d(s,{A:()=>c});var t=a(579);const c=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,t.jsxs)("div",{className:"skeleton",children:[(0,t.jsxs)("div",{className:"pulse skeleton__header",children:[(0,t.jsx)("div",{className:"pulse skeleton__circle"}),(0,t.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,t.jsx)("div",{className:"pulse skeleton__block"}),(0,t.jsx)("div",{className:"pulse skeleton__block"}),(0,t.jsx)("div",{className:"pulse skeleton__block"})]})]})},493:(e,s,a)=>{a.d(s,{A:()=>c});var t=a(43);const c=()=>{const{loading:e,request:s,error:a,clearError:c}=(()=>{const[e,s]=(0,t.useState)(null),[a,c]=(0,t.useState)(!1);return{loading:a,request:(0,t.useCallback)((async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{"Content-type":"application/json"};c(!0);try{const s=await fetch(e,{method:a,body:t,headers:n});if(!s.ok)throw new Error("\u041d\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u043a ".concat(e,", \u0441\u0442\u0430\u0442\u0443\u0441: ").concat(s.status));const r=await s.json();return c(!1),r}catch(r){throw c(!1),s(r.message),r}}),[]),error:e,clearError:(0,t.useCallback)((()=>s(null)),[])}})(),n="https://gateway.marvel.com:443/v1/public/",r="apikey=9eea50e05b101c3590f1ec3995f0c977",l=e=>({name:e.name,description:e.description,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,homepage:e.urls[0],wiki:e.urls[1],comics:e.comics.items,resourceUrl:e.resourceURI}),i=e=>({name:e.name,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,id:e.id}),o=e=>({title:e.series.name,description:e.description||"\u041d\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,id:e.id,pageCount:e.pageCount?"".concat(e.pageCount):"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446",price:e.prices[0].price,language:e.textObjects.language||"en-us"}),d=e=>({name:e.series.name,thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,id:e.id,price:e.prices[0].price});return{loading:e,error:a,getCharacter:async e=>{let a=await s("".concat(n,"characters/").concat(e,"?").concat(r));return console.log("\u041a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0441\u0440\u0435\u043d\u0434\u0435\u0440\u0438\u043b\u0441\u044f"),l(a.data.results[0])},getItemCharacter:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:55;const a=await s("".concat(n,"characters?limit=9&offset=").concat(e,"&").concat(r));return console.log(a),a.data.results.map(i)},clearError:c,getCharacterItemList:async e=>{const a=await s("".concat(n,"comics?limit=8&offset=").concat(e,"&").concat(r));return console.log(a),a.data.results.map(d)},getComic:async e=>{const a=await s("".concat(n,"comics/").concat(e,"?").concat(r));return console.log(a),o(a.data.results[0])}}}}}]);
//# sourceMappingURL=276.111dd74b.chunk.js.map